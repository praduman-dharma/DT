<?php
$isLoggedIn = $block->isCustomerLoggedIn();
?>

<div id="cc-request-quote-popup" class="cc-request-quote-popup" style="display:none;">
    <form class="cc-request-quote-form" data-role="cc-request-quote-form">
        <fieldset class="fieldset">
            <?php if (!$isLoggedIn): ?>
                <div class="field required">
                    <label for="name" class="label"><span><?= $escaper->escapeHtml(__('Name')) ?></span></label>
                    <div class="control">
                        <input type="text" name="name" class="input-text" data-validate="{required:true}" />
                    </div>
                </div>
                <div class="field required">
                    <label for="email" class="label"><span><?= $escaper->escapeHtml(__('Email')) ?></span></label>
                    <div class="control">
                        <input type="email" name="email" class="input-text" data-validate="{required:true, 'validate-email':true}" />
                    </div>
                </div>
            <?php endif; ?>

            <div class="field">
                <label for="phone_number" class="label"><span><?= $escaper->escapeHtml(__('Phone Number')) ?></span></label>
                <div class="control">
                    <input type="text" name="phone_number" class="input-text" data-validate="{required:false}" />
                </div>
            </div>

            <div class="field required">
                <label for="comments" class="label"><span><?= $escaper->escapeHtml(__('Comments')) ?></span></label>
                <div class="control">
                    <textarea name="comments" class="input-text" data-validate="{required:true}"></textarea>
                </div>
            </div>

            <div class="actions">
                <button type="submit" class="action primary"><?= $escaper->escapeHtml(__('Submit')) ?></button>
                <button type="button" class="action secondary" data-role="closeBtn"><?= $escaper->escapeHtml(__('Cancel')) ?></button>
            </div>
        </fieldset>
    </form>

    <!-- Success Content Container -->
    <div class="cc-request-quote-success" style="display:none;">
        <!-- Success content will be dynamically inserted here -->
    </div>
</div>
